(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{ea6b6d2a76346abcbd96(e,t,n){n.r(t);let r; const o=n("8af190b70a6bc55c6f1b"); const i=n.n(o); const a=n("0d7f0986bcd2f33d8a2a"); const l=(n("8a2d1b95e05b6a321e74"),n("d7dd51e1bf6bfc2c9c3d")); const c=n("ab4cb61bcb2dc161defb"); const f=n("a28fc3c963a1d4d1a2e5"); const u=n("0b3cb19af78752326f59"); const d=n("ab039aecd4a1d4fedc0e"); const s=n("6542cd13fd5dd1bcffd4"); const p=n("a72b40110d9c31c9b5c5"); const m=n("eb656803928a435bd3cc"); const h=n("66543f9bb6e90e461320"); const b=n("5ca68c6edf7ca33c5f8f"); const g=n("761b1f7fdd256e4f5426"); const y=n("7a0805d5a888ddc3ee44"); const w=n.n(y); const v=n("a7c39d8357e500a5b832"); const x=n("422249433a2d25af359d"); const O=n("0785de3f40b134973d35"); const j=n("d6f259ffb10cc810b5a4"); const C=n("455f30c6322408a2ff3e"); const _=n("c8e6563c3537109b383a"); const S="app.containers.PanelChapter"; const E=Object(d.defineMessages)({next:{id:"".concat(S,".next"),defaultMessage:"Next"},exploreAll:{id:"".concat(S,".exploreAll"),defaultMessage:"Explore all layers"}});function L(e,t,n,o){r||(r=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103);const i=e&&e.defaultProps; const a=arguments.length-3;if(t||a===0||(t={children:void 0}),a===1)t.children=o;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}if(t&&i)for(const f in i)void 0===t[f]&&(t[f]=i[f]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:`${n}`,ref:null,props:t,_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(e)))return;const n=[]; let r=!0; let o=!1; let i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||l.return==null||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if(typeof e==="string")return P(e,t);let n=Object.prototype.toString.call(e).slice(8,-1);n==="Object"&&e.constructor&&(n=e.constructor.name);if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(){return(z=Object.assign||function(e){for(let t=1;t<arguments.length;t++){const n=arguments[t];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const I=Object(u.default)(function(e){return i.a.createElement(m.a,z({},e,{direction:"row",gap:"hair"}))}).withConfig({displayName:"PanelChapter__Styled",componentId:"t1wy89-0"})(["position:absolute;left:0;bottom:35px;height:200px;pointer-events:all;z-index:2500;@media (min-width:","){bottom:40px;}"],function(e){return e.theme.sizes.medium.minpx}); const N=Object(u.default)(function(e){return i.a.createElement(m.a,z({},e,{fill:"vertical",align:"center",elevation:"small",flex:{shrink:0},responsive:!1,background:"black"}))}).withConfig({displayName:"PanelChapter__ToggleWrap",componentId:"t1wy89-1"})(["width:40px;position:relative;z-index:3;"]); const A=Object(u.default)(function(e){return i.a.createElement(h.a,z({},e,{plain:!0,fill:!0}))}).withConfig({displayName:"PanelChapter__ButtonToggle",componentId:"t1wy89-2"})(["background:",";padding:",";&:hover{background:",";}"],function(e){return e.theme.global.colors.black},function(e){return e.theme.global.edgeSize.small},function(e){return e.theme.global.colors.dark}); const M=Object(u.default)(function(e){return i.a.createElement(m.a,z({},e,{direction:"row",gap:"hair",fill:"horizontal"}))}).withConfig({displayName:"PanelChapter__ContentWrap",componentId:"t1wy89-3"})(["position:relative;z-index:2;"]); const F=Object(u.default)(function(e){return i.a.createElement(m.a,z({},e,{background:"black",pad:{horizontal:"small",top:"small"},fill:"horizontal",elevation:"small",responsive:!1,flex:!1}))}).withConfig({displayName:"PanelChapter__Content",componentId:"t1wy89-4"})(["max-width:350px;overflow:hidden;@media (min-width:","){width:300px;}"],function(e){return e.theme.sizes.medium.minpx}); const T=Object(u.default)(b.a).withConfig({displayName:"PanelChapter__Title",componentId:"t1wy89-5"})(["font-size:22px;line-height:23px;margin:0;margin-bottom:5px;font-family:'wwfregular';font-weight:normal;text-transform:uppercase;@media (min-width:","){font-size:26px;line-height:27px;}"],function(e){return e.theme.sizes.xlarge.minpx}); const D=Object(u.default)(function(e){return i.a.createElement(m.a,z({},e,{direction:"row",gap:"small"}))}).withConfig({displayName:"PanelChapter__ButtonWrap",componentId:"t1wy89-6"})(["position:absolute;bottom:0;right:",";transform:translateY(50%);"],function(e){return e.theme.global.edgeSize.small}); const W=Object(u.default)(function(e){return i.a.createElement(h.a,z({},e,{reverse:!0,plain:!0}))}).withConfig({displayName:"PanelChapter__ButtonNext",componentId:"t1wy89-7"})(["background:",";color:",";border-radius:20px;padding:2px 12px;height:25px;&:hover{background:",";}@media (min-width:","){font-size:20px;height:35px;padding:5px 20px;}"],function(e){return e.theme.global.colors.brand},function(e){return e.theme.global.colors.white},function(e){return e.theme.global.colors.brandDark},function(e){return e.theme.sizes.medium.minpx}); const B=Object(u.default)(function(e){return i.a.createElement(W,e)}).withConfig({displayName:"PanelChapter__ButtonPrevious",componentId:"t1wy89-8"})(["padding:2px 12px;@media (min-width:","){padding:5px 15px;}"],function(e){return e.theme.sizes.medium.minpx}); const U=Object(u.default)(function(e){return i.a.createElement(m.a,e)}).withConfig({displayName:"PanelChapter__LabelWrap",componentId:"t1wy89-9"})(["font-family:'wwfregular';text-transform:uppercase;font-size:16px;line-height:1;"]); const $=Object(u.default)(b.a).withConfig({displayName:"PanelChapter__Description",componentId:"t1wy89-10"})(["font-size:13px;@media (min-width:","){font-size:15px;}"],function(e){return e.theme.sizes.medium.minpx}); const J=Object(u.default)(function(e){return i.a.createElement(m.a,z({},e,{direction:"row",gap:"small",flex:!1}))}).withConfig({displayName:"PanelChapter__LayersFocusWrap",componentId:"t1wy89-11"})(["width:100%;"]); const q=Object(u.default)(function(e){return i.a.createElement(m.a,e)}).withConfig({displayName:"PanelChapter__LayerFocus",componentId:"t1wy89-12"})([""]); const H=Object(u.default)(function(e){return i.a.createElement(m.a,z({},e,{direction:"row",align:"center"}))}).withConfig({displayName:"PanelChapter__LayerTitleWrap",componentId:"t1wy89-13"})(["margin-bottom:6px;"]); const Y=Object(u.default)(b.a).withConfig({displayName:"PanelChapter__LayerTitle",componentId:"t1wy89-14"})(["font-size:13px;line-height:16px;font-weight:600;"]); const G=Object(u.default)(function(e){return i.a.createElement(h.a,z({plain:!0},e))}).withConfig({displayName:"PanelChapter__LayerButtonInfo",componentId:"t1wy89-15"})(["padding:",";margin-left:",";border-radius:9999px;&:hover{background:",";}"],function(e){return e.theme.global.edgeSize.xxsmall},function(e){return e.stretch?"auto":0},function(e){return e.theme.global.colors["dark-1"]}); const K=2; const Q="PanelChapter"; const R={open:!0}; const V="xlarge"; const X="large"; const Z=L(v.k,{}); const ee=L(v.n,{}); const te=L(v.r,{}); const ne=L(v.b,{color:"white"}); const re=L(v.c,{color:"white"});const oe=Object(f.b)({exploreConfig(e){return Object(s.i)(e)},locale(e){return Object(s.n)(e)},uiState(e){return Object(s.w)(e,{key:Q})}});let ie; const ae=Object(l.connect)(oe,function(e){return{onSetOpen(t,n){return e(Object(p.r)(Q,Object.assign({},R,n,{open:t})))},onLayerInfo(t){return e(Object(p.n)(t))},onSetLayers(t){return e(Object(p.o)(t))},navModule(t){return j.g[t]&&e(Object(p.c)(j.g[t].path))}}}); const le=Object(c.compose)(ae)(function(e){const t=e.onPrevious; const n=e.onNext; const r=e.onSetLayers; const a=e.locale; const l=e.chapter; const c=e.isFirst; const f=e.isLast; const u=e.uiState; const s=e.onSetOpen; const p=e.onLayerInfo; const h=e.layersConfig; const b=e.navModule; const y=(u?Object.assign({},R,u):R).open; const v=k(Object(o.useState)(0),2); const j=v[0]; const S=v[1];Object(o.useEffect)(function(){l&&h&&r(l.layers||[])},[l,h]);const P=l&&l.layersFocus&&h&&h.filter(function(e){return l.layersFocus.slice(0,2).indexOf(e.id)>-1});return L(g.a.Consumer,{},void 0,function(e){return L(I,{},void 0,L(N,{},void 0,L(A,{icon:L(m.a,{fill:!0,justify:"start"},void 0,y?Z:ee),onClick(){return s(!y)}})),y&&L(M,{},void 0,(Object(_.e)(e,V)||j===0)&&L(F,{},void 0,l&&a&&L(T,{},void 0,l.title[a]||l.title[O.DEFAULT_LOCALE]),P&&P.length>0&&L(J,{fill:!0},void 0,P.map(function(e){return L(q,{fill:P.length===1&&"horizontal",style:{width:P.length>1?"50%":"100%"},flex:!1},e.id,L(H,{fill:P.length===1&&"horizontal"},void 0,a&&L(Y,{},void 0,e["title-short"]&&(e["title-short"][a]||e["title-short"][O.DEFAULT_LOCALE]),!e["title-short"]&&(e.title[a]||e.title[O.DEFAULT_LOCALE])),L(G,{onClick(){return p(e["content-id"]||e.id)},icon:te,stretch:P.length===1})),L(C.a,{config:e,simple:!0,dark:!0}))}))),(Object(_.e)(e,V)||j===1)&&L(F,{},void 0,l&&a&&L($,{className:"mpx-wrap-markdown-description"},void 0,L(w.a,{options:{html:!0},source:Object(x.b)(l.description[a]||l.description[O.DEFAULT_LOCALE],{para:!0})}))),L(D,{},void 0,(!c||Object(_.d)(e,X)&&j>0)&&L(B,{icon:ne,onClick(){Object(_.d)(e,X)?(j>0&&S(j-1),j===0&&(c||S(K-1),p(),t())):(p(),t())}}),(!f||Object(_.d)(e,X)&&j===0)&&L(W,{icon:re,label:L(U,{margin:{top:e==="small"?"-3px":"-4px"}},void 0,i.a.createElement(d.FormattedMessage,E.next)),gap:e==="small"?"xsmall":"small",onClick(){Object(_.d)(e,X)?(j<K-1&&S(j+1),j===K-1&&(f||S(0),p(),n())):(p(),n())}}),f&&(!Object(_.d)(e,X)||j>0)&&L(W,{label:L(U,{margin:{top:"-4px"}},void 0,i.a.createElement(d.FormattedMessage,E.exploreAll)),onClick(){b("explore")}}))))})}); const ce=n("f9c0d22799479965d07c"); const fe=n("02ed36e7ccc5625439c9");function ue(e,t,n,r){ie||(ie=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103);const o=e&&e.defaultProps; const i=arguments.length-3;if(t||i===0||(t={children:void 0}),i===1)t.children=r;else if(i>1){for(var a=new Array(i),l=0;l<i;l++)a[l]=arguments[l+3];t.children=a}if(t&&o)for(const c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:ie,type:e,key:void 0===n?null:`${n}`,ref:null,props:t,_owner:null}}n.d(t,"ModuleStories",function(){return se});const de=u.default.div.withConfig({displayName:"ModuleStories__Styled",componentId:"sc-132en5s-0"})([""]);function se(e){const t=e.layersConfig; const n=e.storiesConfig; const r=e.onPrevious; const i=e.onNext; const l=e.story; const c=e.chapter; const f=e.onSetStory; const u=e.onSetChapter; const d=e.onSetLanding; const s=e.firstLanding; const p=e.intl;if(Object(o.useEffect)(function(){s&&d()},[]),Object(o.useEffect)(function(){l||f(0),c||u(0)}),!n)return null;const m=n.length===1?n[0]:n[l]; const h=m.chapters&&m.chapters.length>0&&m.chapters[c];return ue(de,{},void 0,ue(a.Helmet,{},void 0,ue("title",{},void 0,"".concat(p.formatMessage(fe.a.module_stories_metaTitle)))),ue(ce.a,{},void 0,t&&m.chapters&&c<m.chapters.length&&ue(le,{onPrevious(){return r(c)},onNext(){i(c,m.chapters.length)},chapter:h,isFirst:c===0,isLast:c===m.chapters.length-1,layersConfig:t.filter(function(e){return h&&h.layers&&h.layers.indexOf(e.id)>-1})})))}const pe=Object(f.b)({layersConfig(e){return Object(s.m)(e)},storiesConfig(e){return Object(s.u)(e)},story(e){return Object(s.v)(e)},chapter(e){return Object(s.b)(e)},firstLanding(e){return Object(s.j)(e)}});const me=Object(l.connect)(pe,function(e){return{onNext(t,n){return e(Object(p.f)(Math.min(t+1,n)))},onPrevious(t){return e(Object(p.f)(Math.max(t-1,0)))},onSetChapter(t){return e(Object(p.f)(t))},onSetStory(t){return e(Object(p.q)(t))},onSetLanding(){return e(Object(p.m)())}}});t.default=Object(c.compose)(me)(Object(d.injectIntl)(se))}}]);