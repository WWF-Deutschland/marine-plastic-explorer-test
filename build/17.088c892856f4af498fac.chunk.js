(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"1babca734aeb0846f8a7":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),a=n("eb656803928a435bd3cc"),i=n("0b3cb19af78752326f59");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(i.default)(function(e){return o.a.createElement(a.a,c({margin:{top:"medium"}},e,{align:"center",responsive:!1}))}).withConfig({displayName:"PanelTitleWrap",componentId:"sc-1tyc6v3-0"})([""])},"5b42af1dd84f0af13496":function(e,t,n){"use strict";var r=n("0b3cb19af78752326f59");t.a=r.default.div.withConfig({displayName:"PanelBody",componentId:"sc-1ltb7hg-0"})(["position:absolute;right:0;left:0;top:150px;width:100%;bottom:0;padding:12px 12px 96px;overflow-y:scroll;"])},"680d9676fa8f30f6a96f":function(e,t,n){"use strict";var r=n("5ca68c6edf7ca33c5f8f"),o=n("0b3cb19af78752326f59");t.a=Object(o.default)(r.a).withConfig({displayName:"PanelTitle",componentId:"sc-1q7378k-0"})(["font-family:'wwfregular';text-transform:uppercase;line-height:1;margin-top:3px;"])},"6917858057d82f8c6e08":function(e,t,n){"use strict";var r,o=n("8af190b70a6bc55c6f1b"),a=n.n(o),i=n("0b3cb19af78752326f59"),c=n("66543f9bb6e90e461320");function l(e,t,n,o){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var c=new Array(i),l=0;l<i;l++)c[l]=arguments[l+3];t.children=c}if(t&&a)for(var f in a)void 0===t[f]&&(t[f]=a[f]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=l(n("a7c39d8357e500a5b832").h,{}),d=Object(i.default)(function(e){return a.a.createElement(c.a,f({icon:u,plain:!0,alignSelf:"end"},e))}).withConfig({displayName:"ButtonPanelClose",componentId:"sc-130tkd0-0"})(["position:absolute;top:15px;right:15px;padding:10px;border-radius:99999px;background:",";box-shadow:0px 2px 4px rgba(0,0,0,0.1);&:hover{background:",";}"],function(e){return e.theme.global.colors.brandDark},function(e){return e.theme.global.colors.brandDarker});t.a=d},"76ece85fcd21b6cc5f0c":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),a=n("eb656803928a435bd3cc"),i=n("0b3cb19af78752326f59");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(i.default)(function(e){return o.a.createElement(a.a,c({},e,{margin:{left:"xsmall"}}))}).withConfig({displayName:"TabLinkWrapper",componentId:"sc-1j124n4-0"})(["position:relative;"])},"824fbef8e45d46ce8bcf":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),a=n("eb656803928a435bd3cc"),i=n("0b3cb19af78752326f59");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(i.default)(function(e){return o.a.createElement(a.a,c({background:"brand",justify:"between"},e,{elevation:"small",responsive:!1}))}).withConfig({displayName:"PanelHeader",componentId:"sc-12prtg1-0"})(["position:absolute;right:0;left:0;top:0;width:100%;height:140px;@media (min-width:","){height:150px;}"],function(e){return e.theme.sizes.medium.minpx})},ab7e87eba3b6ee302e04:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),a=n("66543f9bb6e90e461320"),i=n("0b3cb19af78752326f59");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(i.default)(function(e){return o.a.createElement(a.a,c({plain:!0},e))}).withConfig({displayName:"TabLink",componentId:"sc-15d3rks-0"})(["font-family:'wwfregular';text-transform:uppercase;font-weight:normal;line-height:1;padding:0 ",";color:",";opacity:1;border-bottom:4px solid;border-color:",";&:hover{color:",";}"],function(e){return e.theme.global.edgeSize.ms},function(e){var t=e.theme,n=e.active;return t.global.colors[n?"white":"brandLight"]},function(e){var t=e.theme;return e.active?t.global.colors.white:"transparent"},function(e){return e.theme.global.colors.white})},d02bbf3fc84cb2a5f54d:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),a=n("5ca68c6edf7ca33c5f8f"),i=n("0b3cb19af78752326f59");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(i.default)(function(e){return o.a.createElement(a.a,c({size:"xlarge"},e))}).withConfig({displayName:"TabLinkAnchor",componentId:"gnhoai-0"})([""])},da67b01eafe6c5aeeace:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),a=n("eb656803928a435bd3cc"),i=n("0b3cb19af78752326f59");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(i.default)(function(e){return o.a.createElement(a.a,c({},e,{direction:"row",gap:"xsmall"}))}).withConfig({displayName:"Tabs",componentId:"sc-10tmbft-0"})([""])},ef09d4344e98a758bac7:function(e,t,n){"use strict";n.r(t);var r,o=n("8af190b70a6bc55c6f1b"),a=n.n(o),i=(n("8a2d1b95e05b6a321e74"),n("d7dd51e1bf6bfc2c9c3d")),c=n("a28fc3c963a1d4d1a2e5"),l=n("0d7f0986bcd2f33d8a2a"),f=n("ab4cb61bcb2dc161defb"),u=n("ab039aecd4a1d4fedc0e"),d=n("0b3cb19af78752326f59"),s=n("eb656803928a435bd3cc"),p=n("66543f9bb6e90e461320"),b=n("761b1f7fdd256e4f5426"),m=n("045dd844c9ae122c636a"),y=n("6e05b15597c94fea0ef3"),g=n("422249433a2d25af359d"),h=n("c8e6563c3537109b383a"),v=n("d6f259ffb10cc810b5a4"),j=n("76abbe2db5a955046df2"),w=n("ab7d7caa0ee3a73c9e57"),O=n("a7c39d8357e500a5b832"),x=n("d11a8f0bb6e09a1b2c13"),L=n("0785de3f40b134973d35"),C=n("da67b01eafe6c5aeeace"),_=n("ab7e87eba3b6ee302e04"),S=n("76ece85fcd21b6cc5f0c"),k=n("d02bbf3fc84cb2a5f54d"),E=n("824fbef8e45d46ce8bcf"),I=n("680d9676fa8f30f6a96f"),P=n("1babca734aeb0846f8a7"),A=n("5b42af1dd84f0af13496"),M=n("6917858057d82f8c6e08"),T=n("6542cd13fd5dd1bcffd4"),N=n("a72b40110d9c31c9b5c5"),D=n("f64ff5b2dfbac1021ef4"),F=n("d3dfb88bd55587d538d0"),G="app.components.GroupLayers",B=Object(u.defineMessages)({columnLayer:{id:"".concat(G,".columnLayer"),defaultMessage:"Layer"},columnProject:{id:"".concat(G,".columnProject"),defaultMessage:"Project"},columnKey:{id:"".concat(G,".columnKey"),defaultMessage:"Key"},columnInfo:{id:"".concat(G,".columnInfo"),defaultMessage:"Read more"},info:{id:"".concat(G,".info"),defaultMessage:"Info"}});function $(e,t,n,o){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var c=new Array(i),l=0;l<i;l++)c[l]=arguments[l+3];t.children=c}if(t&&a)for(var f in a)void 0===t[f]&&(t[f]=a[f]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var H=d.default.div.withConfig({displayName:"GroupLayers__Styled",componentId:"plf17t-0"})(["display:table;table-layout:fixed;margin-top:12px;margin-bottom:20px;width:100%;"]),U=d.default.div.withConfig({displayName:"GroupLayers__ListHeader",componentId:"plf17t-1"})(["display:table-header-group;"]),z=d.default.div.withConfig({displayName:"GroupLayers__ListHeaderRow",componentId:"plf17t-2"})(["display:table-row;"]),K=d.default.div.withConfig({displayName:"GroupLayers__ListHeaderCell",componentId:"plf17t-3"})(["display:table-cell;font-size:12px;line-height:14px;border-bottom:1px solid ",";vertical-align:middle;color:",";white-space:nowrap;"],function(e){return e.theme.global.colors["light-4"]},function(e){return e.theme.global.colors["dark-4"]}),R=Object(d.default)(K).withConfig({displayName:"GroupLayers__ListHeaderKey",componentId:"plf17t-4"})(["width:45px;text-align:center;"]),q=Object(d.default)(K).withConfig({displayName:"GroupLayers__ListHeaderInfo",componentId:"plf17t-5"})(["width:65px;text-align:center;"]),J=d.default.div.withConfig({displayName:"GroupLayers__ListBody",componentId:"plf17t-6"})(["display:table-row-group;"]),Q=d.default.div.withConfig({displayName:"GroupLayers__ListBodyRow",componentId:"plf17t-7"})(["display:table-row;"]),V=d.default.div.withConfig({displayName:"GroupLayers__ListBodyCell",componentId:"plf17t-8"})(["display:table-cell;vertical-align:middle;height:54px;padding:6px 0;border-bottom:1px solid ",";"],function(e){return e.theme.global.colors["light-4"]}),X=Object(d.default)(V).withConfig({displayName:"GroupLayers__ListBodyCellCenter",componentId:"plf17t-9"})(["text-align:center;"]),Y=Object(d.default)(function(e){return a.a.createElement(p.a,W({},e,{plain:!0}))}).withConfig({displayName:"GroupLayers__InfoButton",componentId:"plf17t-10"})(["font-family:'wwfregular';text-transform:uppercase;line-height:16px;background:",";color:",";padding:0 ",";border-radius:50px;height:24px;&:hover{background:",";}"],function(e){return e.theme.global.colors.black},function(e){return e.theme.global.colors.white},function(e){return e.theme.global.edgeSize.small},function(e){return e.theme.global.colors.dark}),Z=d.default.div.withConfig({displayName:"GroupLayers__KeyWrap",componentId:"plf17t-11"})(["display:block;width:24px;height:24px;margin:0 auto;"]),ee=$(O.q,{color:"dark-4"});var te,ne=function(e){var t=e.layersConfig,n=e.activeLayers,r=e.onToggleLayer,o=e.onLayerInfo,i=e.locale,c=e.projects;return $(H,{},void 0,$(U,{},void 0,$(z,{},void 0,$(K,{},void 0,$(s.a,{direction:"row",gap:"small",align:"center"},void 0,ee,a.a.createElement(u.FormattedMessage,B[c?"columnProject":"columnLayer"]))),$(R,{},void 0,a.a.createElement(u.FormattedMessage,B.columnKey)),$(q,{},void 0,a.a.createElement(u.FormattedMessage,B.columnInfo)))),$(J,{},void 0,t&&t.map(function(e){var t=c?"".concat(v.k.id,"-").concat(e.project_id):e.id,l=c?e["project_title_".concat(i)]||e["project_title_".concat(L.DEFAULT_LOCALE)]:e.title[i]||e.title[L.DEFAULT_LOCALE];return $(Q,{},t,$(V,{},void 0,$(F.a,{checked:n.indexOf(t)>-1,onToggle:function(){return r(t)},label:l})),$(X,{},void 0,$(Z,{},void 0,$(D.a,{config:c?v.k:e}))),$(X,{},void 0,$(Y,{onClick:function(){return o(t)},label:a.a.createElement(u.FormattedMessage,B.info)})))})))},re=n("5ca68c6edf7ca33c5f8f");function oe(e,t,n,r){te||(te="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var i=new Array(a),c=0;c<a;c++)i[c]=arguments[c+3];t.children=i}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:te,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var le=Object(d.default)(function(e){return a.a.createElement(p.a,ce({plain:!0},e))}).withConfig({displayName:"ButtonDeleteLayers__TabDelete",componentId:"sc-1m79krv-0"})(["position:absolute;bottom:98%;border-radius:9999px;background:",";left:50%;transform:translate(-50%);min-width:21px;height:21px;color:",";text-align:center;font-weight:700;"],function(e){return e.theme.global.colors.white},function(e){return e.theme.global.colors.brandDark}),fe=Object(d.default)(s.a).withConfig({displayName:"ButtonDeleteLayers__WrapContent",componentId:"sc-1m79krv-1"})(["pointer-events:none;"]),ue=oe(O.j,{color:"brandDark"});var de,se=function(e){var t=e.layerCount,n=e.updateLayers,r=e.active,a=ae(Object(o.useState)(!1),2),i=a[0],c=a[1];return oe(le,{tabActive:r,onClick:function(){return n()},label:oe(fe,{justify:"center",align:"center",fill:!0},void 0,i?ue:oe(re.a,{size:"xxsmall",style:{paddingTop:"1px"}},void 0,t)),onMouseEnter:function(){return c(!0)},onMouseOut:function(){return c(!1)},onBlur:function(){return c(!1)}})},pe=Object(u.defineMessages)({title:{id:"".concat("app.containers.PanelExplore",".title"),defaultMessage:"Map layers"}});function be(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t,n,r){de||(de="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var i=new Array(a),c=0;c<a;c++)i[c]=arguments[c+3];t.children=i}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:de,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var he=Object(d.default)(function(e){return a.a.createElement(s.a,ge({},e,{elevation:"medium"}))}).withConfig({displayName:"PanelExplore__Styled",componentId:"sc-39h5rt-0"})(["position:absolute;right:0;top:0;bottom:0;width:100%;pointer-events:all;@media (min-width:","){width:","px;}"],function(e){return e.theme.sizes.medium.minpx},function(e){return e.panelWidth||400}),ve=Object(d.default)(function(e){return a.a.createElement(s.a,ge({flex:{shrink:0}},e))}).withConfig({displayName:"PanelExplore__SectionLayerGroup",componentId:"sc-39h5rt-1"})([""]),je=Object(d.default)(function(e){return a.a.createElement(j.a,ge({},e,{level:3}))}).withConfig({displayName:"PanelExplore__TitleGroup",componentId:"sc-39h5rt-2"})(["font-family:'wwfregular';font-weight:normal;margin-bottom:0;letter-spacing:0.1px;font-size:28px;line-height:29px;"]),we=Object(d.default)(w.a).withConfig({displayName:"PanelExplore__DescriptionGroup",componentId:"sc-39h5rt-3"})(["margin-bottom:8px;"]),Oe="PanelExplore",xe={tab:0},Le=ye(O.p,{});var Ce=Object(c.b)({projects:function(e){return Object(T.c)(e,{key:"projects"})},layersConfig:function(e){return Object(T.m)(e)},exploreConfig:function(e){return Object(T.i)(e)},locale:function(e){return Object(T.n)(e)},uiState:function(e){return Object(T.w)(e,{key:Oe})},activeLayers:function(e){return Object(T.a)(e)}});var _e,Se=Object(i.connect)(Ce,function(e){return{onSetTab:function(t,n){return e(Object(N.r)(Oe,Object.assign({},xe,n,{tab:t})))},onLayerInfo:function(t){return e(Object(N.n)(t))},onSetLayers:function(t){return e(Object(N.o)(t))},onToggleLayer:function(t){return e(Object(N.s)(t))}}}),ke=Object(f.compose)(Se)(function(e){var t=e.onClose,n=e.onLayerInfo,r=e.onToggleLayer,i=e.onSetTab,c=e.projects,l=e.layersConfig,f=e.exploreConfig,d=e.locale,s=e.uiState,p=e.activeLayers,m=e.onSetLayers,y=(s?Object.assign({},xe,s):xe).tab,j=Object(o.useRef)();Object(o.useEffect)(function(){j.current.scrollTop=0},[s]);var w=f&&f[y];return ye(b.a.Consumer,{},void 0,function(e){return ye(he,{background:"white",panelWidth:Object(h.c)(e)},void 0,ye("div",{},void 0,ye(E.a,{},void 0,ye(M.a,{onClick:function(){return t()}}),ye(P.a,{},void 0,Le,ye(I.a,{},void 0,a.a.createElement(u.FormattedMessage,pe.title))),ye(C.a,{},void 0,l&&f&&f.map(function(e,t){var n=[];p.length>0&&(n=v.j===e.id?p.filter(function(e){return Object(g.c)(e,"".concat(v.k.id,"-"))}):p.filter(function(t){var n=l.find(function(e){return e.id===t});return n&&n.category===e.id}));var r=p.filter(function(e){return-1===n.indexOf(e)});return ye(S.a,{},e.id,n.length>0&&ye(se,{updateLayers:function(){return m(r)},layerCount:n.length,active:y===t}),ye(_.a,{onClick:function(){return i(t,s)},active:y===t,disabled:y===t,label:ye(k.a,{active:y===t},void 0,e.title[d]||e.title[L.DEFAULT_LOCALE])}))}))),a.a.createElement(A.a,{ref:j},l&&w&&w.groups&&w.groups.map(function(e){return ye(ve,{},e.id,ye(je,{},void 0,e.title[d]||e.title[L.DEFAULT_LOCALE]),e.description&&ye(we,{},void 0,e.description[d]||e.description[L.DEFAULT_LOCALE]),w.id!==v.j&&ye(ne,{group:e,layersConfig:l.filter(function(t){return t.category===w.id&&t.group===e.id}),locale:d,activeLayers:p,onLayerInfo:n,onToggleLayer:r}),c&&w&&w.id===v.j&&ye(ne,{group:w.id,layersConfig:be(c).sort(function(e,t){var n=e["project_title_".concat(d)]||e["project_title_".concat(L.DEFAULT_LOCALE)],r=t["project_title_".concat(d)]||t["project_title_".concat(L.DEFAULT_LOCALE)];return Object(x.deburr)(Object(g.a)(n))>Object(x.deburr)(Object(g.a)(r))?1:-1}),projects:!0,locale:d,activeLayers:p,onLayerInfo:n,onToggleLayer:r}))}),l&&w&&w.id!==v.j&&!w.groups&&ye(ve,{},void 0,ye(ne,{group:w,layersConfig:l.filter(function(e){return e.category===w.id}),locale:d,activeLayers:p,onLayerInfo:n,onToggleLayer:r})),c&&w&&w.id===v.j&&!w.groups&&ye(ve,{},void 0,ye(ne,{group:w.id,layersConfig:c,projects:!0,locale:d,activeLayers:p,onLayerInfo:n,onToggleLayer:r})))))})}),Ee=n("f9c0d22799479965d07c"),Ie=n("02ed36e7ccc5625439c9"),Pe=Object(u.defineMessages)({showLayerPanel:{id:"".concat("app.containers.PanelExplore",".showLayerPanel"),defaultMessage:"Layers"},showProjects:{id:"".concat("app.containers.PanelExplore",".showProjects"),defaultMessage:"Show WWF-projects"},hideProjects:{id:"".concat("app.containers.PanelExplore",".hideProjects"),defaultMessage:"Hide WWF-projects"},showProjectsShort:{id:"".concat("app.containers.PanelExplore",".showProjectsShort"),defaultMessage:"Show projects"},hideProjectsShort:{id:"".concat("app.containers.PanelExplore",".hideProjectsShort"),defaultMessage:"Hide projects"}});function Ae(e,t,n,r){_e||(_e="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var i=new Array(a),c=0;c<a;c++)i[c]=arguments[c+3];t.children=i}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:_e,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){if(e){if("string"===typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"ModuleExplore",function(){return Je});var Be=Object(d.default)(function(e){return a.a.createElement(s.a,Ge({gap:"small",direction:"row"},e))}).withConfig({displayName:"ModuleExplore__Buttons",componentId:"sc-1nskavd-0"})(["position:absolute;right:12px;top:22px;pointer-events:all;"]),$e=Object(d.default)(function(e){return a.a.createElement(p.a,Ge({plain:!0,reverse:!0},e))}).withConfig({displayName:"ModuleExplore__ShowButton",componentId:"sc-1nskavd-1"})(["font-family:'wwfregular';text-transform:uppercase;line-height:16px;background:",";color:",";border-radius:20px;padding:2px 13px;box-shadow:0px 2px 4px rgba(0,0,0,0.2);&:hover{background:",";}@media (min-width:","){padding:5px 15px 5px 21px;}"],function(e){var t=e.theme,n=e.projects;return t.global.colors[n?"white":"brand"]},function(e){var t=e.theme,n=e.projects;return t.global.colors[n?"black":"white"]},function(e){var t=e.theme,n=e.projects;return t.global.colors[n?"lightHover":"brandDark"]},function(e){return e.theme.sizes.medium.minpx}),We=d.default.div.withConfig({displayName:"ModuleExplore__ProjectButtonWrap",componentId:"sc-1nskavd-2"})(["position:absolute;right:","px;top:20px;pointer-events:all;"],function(e){return e.asideOffset+20}),He=function(e){var t=e.showAll,n=e.lids,r=e.pids,o=e.onClick,i=e.small,c=Fe(e,["showAll","lids","pids","onClick","small"]),l="";return l=i?t?Pe.showProjectsShort:Pe.hideProjectsShort:t?Pe.showProjects:Pe.hideProjects,a.a.createElement($e,Ge({projects:!0,onClick:function(){o(t?Object(y.uniq)([].concat(Te(n),Te(r.map(function(e){return"".concat(v.k.id,"-").concat(e)})))):n.filter(function(e){return!Object(g.c)(e,"".concat(v.k.id,"-"))}))},label:a.a.createElement(u.FormattedMessage,l)},c))},Ue="ModuleExplore",ze={layersMemo:null},Ke=Ae(O.y,{color:"black"}),Re=Ae(O.y,{color:"black"}),qe=Ae(O.p,{color:"white"});function Je(e){var t=e.onSetLayers,n=e.layerIds,r=e.projects,i=e.uiState,c=e.onMemoLayers,f=e.activeLayers,d=e.firstLanding,s=e.onSetLanding,p=e.intl,y=(i?Object.assign({},ze,i):ze).layersMemo;Object(o.useEffect)(function(){y?t(y):v.g.explore.layers&&!d&&t(v.g.explore.layers),d&&s()},[]),Object(o.useEffect)(function(){c(f,i)},[f]);var j=Me(Object(o.useState)(!0),2),w=j[0],O=j[1],x=Me(Object(o.useState)(!1),2),L=x[0],C=x[1],_=r?r.map(function(e){return e.project_id}):[],S=n.filter(function(e){if(Object(g.c)(e,"".concat(v.k.id,"-"))){var t=e.replace("".concat(v.k.id,"-"),"");return _.indexOf(t)>-1}return!1}).map(function(e){return e.replace("".concat(v.k.id,"-"),"")}),k=r&&S.length>=r.length;return Ae(b.a.Consumer,{},void 0,function(e){return Ae("div",{},void 0,Ae(l.Helmet,{},void 0,Ae("title",{},void 0,"".concat(p.formatMessage(Ie.a.module_explore_metaTitle)))),Ae(Ee.a,{},void 0,w&&"small"!==e&&Ae(We,{asideOffset:Object(h.c)(e)},void 0,Ae(He,{showAll:!k,lids:n,pids:_,onClick:t,small:Object(h.e)(e,"small"),icon:Ke})),w&&"small"!==e&&Ae(ke,{onClose:function(){return O(!1)}}),L&&"small"===e&&Ae(m.a,{full:!0},void 0,Ae(ke,{onClose:function(){return C(!1)}})),(!w&&"small"!==e||!L&&"small"===e)&&Ae(Be,{},void 0,"small"!==e&&Ae(He,{showAll:!k,lids:n,pids:_,onClick:t,small:Object(h.e)(e,"small"),icon:Re}),Ae($e,{onClick:function(){O(!0),C(!0)},icon:qe,label:a.a.createElement(u.FormattedMessage,Pe.showLayerPanel)}))))})}var Qe=Object(c.b)({layerIds:function(e){return Object(T.a)(e)},projects:function(e){return Object(T.c)(e,{key:"projects"})},uiState:function(e){return Object(T.w)(e,{key:Ue})},activeLayers:function(e){return Object(T.a)(e)},firstLanding:function(e){return Object(T.j)(e)}});var Ve=Object(i.connect)(Qe,function(e){return{onSetLanding:function(){return e(Object(N.m)())},onSetLayers:function(t){return e(Object(N.o)(t))},onMemoLayers:function(t,n){return e(Object(N.r)(Ue,Object.assign({},ze,n,{layersMemo:t})))}}});t.default=Object(f.compose)(Ve)(Object(u.injectIntl)(Je))}}]);