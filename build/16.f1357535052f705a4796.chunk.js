(window.webpackJsonp=window.webpackJsonp||[]).push([[16,2],{"1babca734aeb0846f8a7":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),a=n.n(r),o=n("eb656803928a435bd3cc"),c=n("0b3cb19af78752326f59");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(c.default)(function(e){return a.a.createElement(o.a,i({margin:{top:"medium"}},e,{align:"center",responsive:!1}))}).withConfig({displayName:"PanelTitleWrap",componentId:"sc-1tyc6v3-0"})([""])},"5b42af1dd84f0af13496":function(e,t,n){"use strict";var r=n("0b3cb19af78752326f59");t.a=r.default.div.withConfig({displayName:"PanelBody",componentId:"sc-1ltb7hg-0"})(["position:absolute;right:0;left:0;top:150px;width:100%;bottom:0;padding:12px 12px 96px;overflow-y:scroll;"])},"680d9676fa8f30f6a96f":function(e,t,n){"use strict";var r=n("5ca68c6edf7ca33c5f8f"),a=n("0b3cb19af78752326f59");t.a=Object(a.default)(r.a).withConfig({displayName:"PanelTitle",componentId:"sc-1q7378k-0"})(["font-family:'wwfregular';text-transform:uppercase;line-height:1;margin-top:3px;"])},"6917858057d82f8c6e08":function(e,t,n){"use strict";var r,a=n("8af190b70a6bc55c6f1b"),o=n.n(a),c=n("0b3cb19af78752326f59"),i=n("66543f9bb6e90e461320");function s(e,t,n,a){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,c=arguments.length-3;if(t||0===c||(t={children:void 0}),1===c)t.children=a;else if(c>1){for(var i=new Array(c),s=0;s<c;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=s(n("a7c39d8357e500a5b832").h,{}),f=Object(c.default)(function(e){return o.a.createElement(i.a,l({icon:u,plain:!0,alignSelf:"end"},e))}).withConfig({displayName:"ButtonPanelClose",componentId:"sc-130tkd0-0"})(["position:absolute;top:15px;right:15px;padding:10px;border-radius:99999px;background:",";box-shadow:0px 2px 4px rgba(0,0,0,0.1);&:hover{background:",";}"],function(e){return e.theme.global.colors.brandDark},function(e){return e.theme.global.colors.brandDarker});t.a=f},"76ece85fcd21b6cc5f0c":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),a=n.n(r),o=n("eb656803928a435bd3cc"),c=n("0b3cb19af78752326f59");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(c.default)(function(e){return a.a.createElement(o.a,i({},e,{margin:{left:"xsmall"}}))}).withConfig({displayName:"TabLinkWrapper",componentId:"sc-1j124n4-0"})(["position:relative;"])},"824fbef8e45d46ce8bcf":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),a=n.n(r),o=n("eb656803928a435bd3cc"),c=n("0b3cb19af78752326f59");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(c.default)(function(e){return a.a.createElement(o.a,i({background:"brand",justify:"between"},e,{elevation:"small",responsive:!1}))}).withConfig({displayName:"PanelHeader",componentId:"sc-12prtg1-0"})(["position:absolute;right:0;left:0;top:0;width:100%;height:140px;@media (min-width:","){height:150px;}"],function(e){return e.theme.sizes.medium.minpx})},ab7e87eba3b6ee302e04:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),a=n.n(r),o=n("66543f9bb6e90e461320"),c=n("0b3cb19af78752326f59");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(c.default)(function(e){return a.a.createElement(o.a,i({plain:!0},e))}).withConfig({displayName:"TabLink",componentId:"sc-15d3rks-0"})(["font-family:'wwfregular';text-transform:uppercase;font-weight:normal;line-height:1;padding:0 ",";color:",";opacity:1;border-bottom:4px solid;border-color:",";&:hover{color:",";}"],function(e){return e.theme.global.edgeSize.ms},function(e){var t=e.theme,n=e.active;return t.global.colors[n?"white":"brandLight"]},function(e){var t=e.theme;return e.active?t.global.colors.white:"transparent"},function(e){return e.theme.global.colors.white})},ad9f6020006dcf95ec37:function(e,t,n){"use strict";n.r(t);var r,a=n("8af190b70a6bc55c6f1b"),o=n.n(a),c=(n("8a2d1b95e05b6a321e74"),n("d7dd51e1bf6bfc2c9c3d")),i=n("a28fc3c963a1d4d1a2e5"),s=n("0d7f0986bcd2f33d8a2a"),l=n("ab4cb61bcb2dc161defb"),u=n("ab039aecd4a1d4fedc0e"),f=n("0b3cb19af78752326f59"),d=n("eb656803928a435bd3cc"),b=n("66543f9bb6e90e461320"),p=n("761b1f7fdd256e4f5426"),m=n("045dd844c9ae122c636a"),g=n("d6f259ffb10cc810b5a4"),h=n("adc20f99e57c573c589c"),y=n("d95b0cf107403b178365"),v=n("c8e6563c3537109b383a"),_=n("968c3c585cf17da94a14"),O=n("a7c39d8357e500a5b832"),j=n("da67b01eafe6c5aeeace"),w=n("ab7e87eba3b6ee302e04"),x=n("76ece85fcd21b6cc5f0c"),k=n("d02bbf3fc84cb2a5f54d"),S=n("824fbef8e45d46ce8bcf"),E=n("680d9676fa8f30f6a96f"),M=n("1babca734aeb0846f8a7"),P=n("5b42af1dd84f0af13496"),R=n("6917858057d82f8c6e08"),A=n("76abbe2db5a955046df2"),C=n("ab7d7caa0ee3a73c9e57"),D=n("5ca68c6edf7ca33c5f8f"),T=n("b4095948cd13c8ec6368"),N=n("b339da35c6d426de3f45");function I(e,t,n,a){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,c=arguments.length-3;if(t||0===c||(t={children:void 0}),1===c)t.children=a;else if(c>1){for(var i=new Array(c),s=0;s<c;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F,L=function(e){var t=e.name,n=e.valueFormatted,r=e.x0,a=e.x1,o=e.y0,c=e.y1,i=e.color,s=e.align,l=Math.max(c-o,1),u=a-r;return I("g",{},void 0,I("rect",{x:r,y:o,width:u,height:l,fill:i},void 0,I("title",{},void 0,"".concat(t," (").concat(n,")"))),I("text",{x:"start"===s?r+u+4:r-4,y:o+l/2+11/3,textAnchor:s,fontSize:11},void 0,"start"===s?"".concat(n," ").concat(t):"".concat(t," ").concat(n)))};var z,$=function(e){var t=e.link,n=e.color;return function(e,t,n,r){F||(F="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var c=new Array(o),i=0;i<o;i++)c[i]=arguments[i+3];t.children=c}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:F,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("path",{d:Object(N.sankeyLinkHorizontal)()(t),style:{fill:"none",strokeOpacity:"active"===t.type?"0.6":"0.4",stroke:n,strokeWidth:Math.max(1,t.width)}})};function W(e,t,n,r){z||(z="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var c=new Array(o),i=0;i<o;i++)c[i]=arguments[i+3];t.children=c}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:z,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(t){q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){return"other"===e.type?"#999999":"#F07D00"},G=function(e){return"other"===e.type?"#999999":"#F07D00"},K=function(e){var t=e.data,n=e.width,r=e.height,a=e.direction,c=t.links?r+10*(t.links.length-1):r,i=Object(N.sankey)().nodeWidth(10).nodePadding(10).nodeSort(function(e,t){return e.index>t.index?1:-1}).linkSort(function(e,t){return e.index>t.index?1:-1}).extent([[170,0],[n-170,c]])(H({},t)),s=i.nodes,l=i.links,u=s[0],f=s[0].y0;u.y0=(c-r)/2,u.y1=u.y0+r;var d=u.y0-f,b=l.map(function(e){return H(H({},e),{},"from"===a?{y0:e.y0+d}:{y1:e.y1+d})});return W("svg",{width:n,height:c+10},void 0,W("g",{},void 0,s.map(function(e){return o.a.createElement(L,Z({},e,{direction:a,key:e.index,color:B(e,s[0])}))}),b.map(function(e){return W($,{link:e,color:G(e)},e.index)})))},J="app/PanelTransfers/LOAD_DATA",Y="app/PanelTransfers/DATA_REQUESTED",Q="app/PanelTransfers/DATA_LOAD_SUCCESS",V="app/PanelTransfers/DATA_LOAD_ERROR",X="apDp/PanelTransfers/SET_ANALYSIS",ee="apDp/PanelTransfers/SET_DIRECTION",te="apDp/PanelTransfers/SET_NODE";function ne(e,t){return{type:J,key:e,path:t}}function re(e,t,n){return{type:Q,key:e,data:t,time:n}}function ae(e,t){return{type:Y,key:e,time:t}}function oe(e,t){return{type:V,error:e,key:t}}var ce,ie=n("6542cd13fd5dd1bcffd4"),se=n("d11a8f0bb6e09a1b2c13"),le=n("422249433a2d25af359d"),ue=n("9bd72a5c9fd46870e6a9"),fe=function(e){return Object(ue.b)(100*parseFloat(e),2,!0)},de=function(e){return"".concat(e.id,"-transfers")},be=function(e,t){var n=e.id;return"uni"===e.dir&&e.nodes[t]?"".concat(n,"-nodes-").concat(t):"omni"===e.dir?"".concat(n,"-nodes"):null},pe=function(e){var t=e.activeNode,n=e.data,r=e.direction,a=e.analysisConfig,o=e.locale,c=e.search,i=a.id;if("gyres"===i&&n.nodes&&n.nodes[r]&&n.transfer)return n.nodes[r].filter(function(e){return n.transfer.find(function(t){return t[r]===e.code})}).map(function(e){return{value:e.code,label:e["name_".concat(o)]}}).sort(function(e,n){return t&&Object(_.a)(e.value,t)?-1:t&&Object(_.a)(n.value,t)?1:0});if("countries"===i&&n.nodes&&n.transfer){var s=c&&c.length>1&&new RegExp(Object(se.deburr)(Object(le.a)(c)),"i");return n.nodes.filter(function(e){return(!s||Object(_.a)(t,e.MRGID_EEZ)||s.test(Object(se.deburr)(Object(le.a)(e.UNION))))&&n.transfer.find(function(t){return t[r]===e.MRGID_EEZ})}).map(function(e){return{value:e.MRGID_EEZ,label:e.UNION}}).sort(function(e,n){return t&&Object(_.a)(e.value,t)?-1:t&&Object(_.a)(n.value,t)?1:Object(se.deburr)(Object(le.a)(e.label))>Object(se.deburr)(Object(le.a)(n.label))?1:-1})}return[]},me=function(e){var t=e.activeNode,n=e.data,r=e.direction,a=e.analysisConfig,o=e.locale,c=a.id,i="to"===r?"from":"to",s=n.transfer&&n.transfer.filter(function(e){return Object(_.a)(e[r],t)}).sort(function(e,t){return parseFloat(e.value)>parseFloat(t.value)?-1:1}),l=s&&s.reduce(function(e,t){var n=t.value;return e+parseFloat(n)},0);return s&&"gyres"===c?s.map(function(e){var t=n.nodes&&n.nodes[i].find(function(t){return Object(_.a)(t.code,e[i])});return{code:e[i],label:t?t["name_".concat(o)]:e[i],value:parseFloat(e.value),ratio:parseFloat(e.value)/l}}):s&&"countries"===c?s.map(function(e){var t=n.nodes&&n.nodes.find(function(t){return Object(_.a)(t.MRGID_EEZ,e[i])});return{code:e[i],label:t?t.UNION:e[i],value:parseFloat(e.value),ratio:parseFloat(e.value)/l}}):[]},ge=function(e){var t=e.namedResults,n=e.otherResults,r=e.activeOption,a=e.direction,o=e.id,c=e.intl,i=e.messages,s=[{name:Object(le.d)(r.label,24,!1),valueFormatted:"",key:r.value,align:"from"===a?"end":"start",type:"active"}];if(s=s.concat(t.map(function(e){return{name:Object(le.d)(e.label,18,!1),valueFormatted:"".concat(fe(e.ratio),"%"),key:e.code,align:"from"!==a?"end":"start",type:"default"}})),n.length>1){var l=n.reduce(function(e,t){return e+t.ratio},0);return s.concat({name:c.formatMessage(i["label_other_".concat(a,"_").concat(o)],{count:n.length}),valueFormatted:"".concat(fe(l),"%"),key:"other",align:"from"!==a?"end":"start",type:"other"})}return s},he=function(e){var t=e.namedResults,n=e.otherResults,r=e.direction,a=e.activeOption,o=t.map(function(e,t){return{source:"from"===r?0:t+1,target:"from"===r?t+1:0,value:e.ratio,type:e.code===a.value?"active":"default"}});if(n.length>1){var c=n.reduce(function(e,t){return e+t.ratio},0);return o.concat({source:"from"===r?0:t.length+1,target:"from"===r?t.length+1:0,value:c,type:"other"})}return o},ye=n("01e2cd22dd17a35e4094"),ve={analysis:"gyres",data:{},dataRequested:{},dataReady:{}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;return Object(ye.a)(e,function(e){switch(t.type){case Y:console.log("Request layer:",t.key),e.dataRequested[t.key]=t.time;break;case Q:console.log("Success loading layer:",t.key),e.data[t.key]=t.data,e.dataReady[t.key]=t.time;break;case V:console.log("Error loading transfer data... giving up!",t.key),e.dataRequested[t.key]=t.time}})},Oe=Object(i.a)(ie.r,function(e){return e.has("transfer")?e.get("transfer"):null}),je=Object(i.a)(ie.r,function(e){return e.has("dir")?e.get("dir"):null}),we=Object(i.a)(ie.r,function(e){return e.has("node")?e.get("node"):null}),xe=function(e){return e.panelTransfers||ve},ke=Object(i.a)(xe,function(e){return e.data}),Se=(Object(i.a)(function(e,t){return t},ke,function(e,t){return t[e]}),Object(i.a)(function(e,t){return t},ke,function(e,t){if(t&&e){var n,r=t[de(e)];return r=r&&r.filter(function(e){return e.value&&""!==e.value.trim()&&!Object(_.a)(e.value,0)}),"uni"===e.dir?n={from:t[be(e,"from")],to:t[be(e,"to")]}:(n=t[be(e)])&&"countries"===e.id&&(n=n.filter(function(e){return"Union EEZ and country"===e.POL_TYPE})),{transfer:r,nodes:n}}return null})),Ee=Object(i.a)(xe,function(e){return e.dataRequested}),Me=Object(i.a)(function(e,t){return t},Ee,function(e,t){return t[e]}),Pe=Object(i.a)(xe,function(e){return e.dataReady}),Re=Object(i.a)(function(e,t){return t},Pe,function(e,t){return t[e]}),Ae=(Object(i.a)(Pe,Ee,function(e,t){return!(!e||!t)&&Object.keys(e).length!==Object.keys(t).reduce(function(e,n){return t[n]?e+1:e},0)}),"app.containers.PanelTransfers"),Ce=Object(u.defineMessages)({title:{id:"".concat(Ae,".title"),defaultMessage:"Analyse plastic flows"},mode_gyres:{id:"".concat(Ae,".mode_gyres"),defaultMessage:"Regions to gyres"},mode_countries:{id:"".concat(Ae,".mode_countries"),defaultMessage:"Between countries"},title_to_gyres:{id:"".concat(Ae,".title_to_gyres"),defaultMessage:"Where does the floating debris originate that accumulates in gyre?"},title_from_gyres:{id:"".concat(Ae,".title_from_gyres"),defaultMessage:"Where do ocean currents take marine debris when entering the oceans from a selected region?"},title_to_countries:{id:"".concat(Ae,".title_to_countries"),defaultMessage:"Where does the floating debris originate that enters a country's EEZ?"},title_from_countries:{id:"".concat(Ae,".title_from_countries"),defaultMessage:"Where do ocean currents take marine debris when entering the oceans from a selected country?"},intro_to_gyres:{id:"".concat(Ae,".intro_to_gyres"),defaultMessage:"See relative emissions of marine debris by region. "},intro_from_gyres:{id:"".concat(Ae,".intro_from_gyres"),defaultMessage:"See a region's relative contributions to the different gyres. "},intro_to_countries:{id:"".concat(Ae,".intro_to_countries"),defaultMessage:"See relative contributions of marine debris from multiple country Exclusive Economic Zones (EEZ). "},intro_from_countries:{id:"".concat(Ae,".intro_from_countries"),defaultMessage:"See a country's relative contributions of marine debris to the different country . "},hint_countries:{id:"".concat(Ae,".hint_countries"),defaultMessage:"In this analysis 'countries' refer to individual country EEZs. "},hint_gyres:{id:"".concat(Ae,".hint_gyres"),defaultMessage:"In this analysis 'gyres' may refer to all identified accumulation zones, including 'marginal seas'. 'Regions' can be based on Exclusive Economic Zones (EEZ) of one or more countries. "},label_direction_countries:{id:"".concat(Ae,".label_direction_countries"),defaultMessage:"Select direction"},label_direction_gyres:{id:"".concat(Ae,".label_direction_gyres"),defaultMessage:"Select direction"},button_from_countries:{id:"".concat(Ae,".button_from_countries"),defaultMessage:"Emitting"},button_to_countries:{id:"".concat(Ae,".button_to_countries"),defaultMessage:"Receiving"},button_from_gyres:{id:"".concat(Ae,".button_from_gyres"),defaultMessage:"Region"},button_to_gyres:{id:"".concat(Ae,".button_to_gyres"),defaultMessage:"Gyre"},select_label_from_countries:{id:"".concat(Ae,".select_label_from_countries"),defaultMessage:"Select country EEZ"},select_label_to_countries:{id:"".concat(Ae,".select_label_to_countries"),defaultMessage:"Select country EEZ"},select_label_from_gyres:{id:"".concat(Ae,".select_label_from_gyres"),defaultMessage:"Select region"},select_label_to_gyres:{id:"".concat(Ae,".select_label_to_gyres"),defaultMessage:"Select gyre"},select_placeholder_from_countries:{id:"".concat(Ae,".select_placeholder_from_countries"),defaultMessage:"Emitting country EEZ"},select_placeholder_to_countries:{id:"".concat(Ae,".select_placeholder_to_countries"),defaultMessage:"Receiving country EEZ"},select_placeholder_from_gyres:{id:"".concat(Ae,".select_placeholder_from_gyres"),defaultMessage:"Emitting region"},select_placeholder_to_gyres:{id:"".concat(Ae,".select_placeholder_to_gyres"),defaultMessage:"Receiving gyre"},label_other_from_countries:{id:"".concat(Ae,".label_other_from_countries"),defaultMessage:"{count} other countries"},label_other_to_countries:{id:"".concat(Ae,".label_other_to_countries"),defaultMessage:"{count} other countries"},label_other_from_gyres:{id:"".concat(Ae,".label_other_from_gyres"),defaultMessage:"{count} other gyres"},label_other_to_gyres:{id:"".concat(Ae,".label_other_to_gyres"),defaultMessage:"{count} other regions"},hint_other_from_countries:{id:"".concat(Ae,".hint_other_from_countries"),defaultMessage:"Other countries: "},hint_other_to_countries:{id:"".concat(Ae,".hint_other_to_countries"),defaultMessage:"Other countries: "},hint_other_from_gyres:{id:"".concat(Ae,".hint_other_from_gyres"),defaultMessage:"Other gyres: "},hint_other_to_gyres:{id:"".concat(Ae,".hint_other_to_gyres"),defaultMessage:"Other regions: "},noDataForNode:{id:"".concat(Ae,".noDataForNode"),defaultMessage:"No data for previously selected option"}});function De(e,t,n,r){ce||(ce="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var c=new Array(o),i=0;i<o;i++)c[i]=arguments[i+3];t.children=c}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:ce,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fe=f.default.div.withConfig({displayName:"Analysis__Styled",componentId:"t2xtz9-0"})(["width:100%;"]),Le=Object(f.default)(function(e){return o.a.createElement(A.a,Ie({level:4},e))}).withConfig({displayName:"Analysis__Title",componentId:"t2xtz9-1"})(["max-width:none;"]),ze=Object(f.default)(function(e){return o.a.createElement(C.a,Ie({size:"xxsmall"},e))}).withConfig({displayName:"Analysis__Hint",componentId:"t2xtz9-2"})(["font-style:italic;"]),$e=Object(f.default)(function(e){return o.a.createElement(D.a,Ie({size:"small"},e))}).withConfig({displayName:"Analysis__Label",componentId:"t2xtz9-3"})(["color:",";display:block;"],function(e){return e.theme.global.colors.grey}),We=Object(f.default)(function(e){return o.a.createElement(b.a,Ie({plain:!0},e))}).withConfig({displayName:"Analysis__ButtonDirection",componentId:"t2xtz9-4"})(["font-family:'wwfregular';text-transform:uppercase;line-height:16px;background:",";color:",";border-radius:5px;padding:2px 13px;box-shadow:0px 2px 4px rgba(0,0,0,0.2);&:hover{background:",";color:",";}opacity:1 !important;@media (min-width:","){padding:5px 15px;}"],function(e){var t=e.theme,n=e.active;return t.global.colors[n?"brand":"light"]},function(e){var t=e.theme,n=e.active;return t.global.colors[n?"white":"grey"]},function(e){var t=e.theme,n=e.disabled;return t.global.colors[n?"brand":"brandDark"]},function(e){return e.theme.global.colors.white},function(e){return e.theme.sizes.medium.minpx}),Ze=.0099;var Ue=Object(i.b)({data:function(e,t){var n=t.analysisConfig;return Se(e,n)}});var He,qe=Object(c.connect)(Ue,function(e){return{onLoadData:function(t){e(ne(de(t),t.transfer.data)),"uni"===t.dir?(e(ne(be(t,"from"),t.nodes.from.data)),e(ne(be(t,"to"),t.nodes.to.data))):e(ne(be(t),t.nodes.data))}}}),Be=Object(l.compose)(qe)(Object(u.injectIntl)(function(e){var t=e.id,n=e.analysisConfig,r=e.onLoadData,c=e.data,i=e.direction,s=e.onSetDirection,l=e.onSetNode,f=e.node,b=e.intl,p=Te(Object(a.useState)(null),2),m=p[0],g=p[1],h=Te(Object(a.useState)(null),2),y=h[0],v=h[1],_=Object(a.useRef)(null);Object(a.useEffect)(function(){r(n)},[t]),Object(a.useEffect)(function(){!y&&_.current&&v(_.current.offsetWidth)},[_]);var O=b.locale,j=pe({activeNode:f,data:c,direction:i,analysisConfig:n,locale:O,search:m}),w=!f||j.find(function(e){return e.value===f}),x=w&&me({activeNode:f,data:c,direction:i,analysisConfig:n,locale:O}),k=x&&x.filter(function(e){return e.ratio<Ze}),S=x&&k.length>1?x.filter(function(e){return e.ratio>=Ze}):x;return i&&t?o.a.createElement(Fe,{ref:_},De(Le,{},void 0,o.a.createElement(u.FormattedMessage,Ce["title_".concat(i,"_").concat(t)])),De(C.a,{fill:!0},void 0,o.a.createElement(u.FormattedMessage,Ce["intro_".concat(i,"_").concat(t)]),Ce["hint_".concat(t)]&&o.a.createElement(u.FormattedMessage,Ce["hint_".concat(t)])),De(d.a,{direction:"row",gap:"medium",margin:{bottom:"large"}},void 0,De(d.a,{},void 0,De($e,{},void 0,o.a.createElement(u.FormattedMessage,Ce["select_label_".concat(i,"_").concat(t)])),"gyres"===t&&De(T.a,{id:"select-".concat(t),name:"select-".concat(t),labelKey:"label",valueKey:{key:"value",reduce:!0},value:f||"",options:j,placeholder:o.a.createElement(u.FormattedMessage,Ce["select_placeholder_".concat(i,"_").concat(t)]),onChange:function(e){var t=e.value;return l(t!==f?t:null)}}),"countries"===t&&De(T.a,{id:"select-".concat(t),name:"select-".concat(t),labelKey:"label",valueKey:{key:"value",reduce:!0},value:f||"",options:j,placeholder:o.a.createElement(u.FormattedMessage,Ce["select_placeholder_".concat(i,"_").concat(t)]),onOpen:function(){return g("")},onChange:function(e){var t=e.value;return l(t!==f?t:null)},onSearch:function(e){var t=e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&");return g(t)}})),De(d.a,{},void 0,De($e,{},void 0,o.a.createElement(u.FormattedMessage,Ce["label_direction_".concat(t)])),De(d.a,{direction:"row",gap:"xsmall"},void 0,["from","to"].map(function(e){return De(We,{active:i===e,disabled:i===e,onClick:function(){return s(e)},label:o.a.createElement(u.FormattedMessage,Ce["button_".concat(e,"_").concat(t)])},e)})))),De("div",{},void 0,!w&&De(ze,{},void 0,o.a.createElement(u.FormattedMessage,Ce.noDataForNode)),De("div",{style:{width:"100%"}},void 0,y>0&&w&&x&&x.length>0&&De(K,{data:{nodes:ge({namedResults:S,otherResults:k,direction:i,activeOption:w,intl:b,messages:Ce,id:t}),links:he({namedResults:S,otherResults:k,direction:i,activeOption:w})},width:y||300,height:300,direction:i})),w&&k&&k.length>1&&De("div",{},void 0,De(ze,{size:"xxxsmall",textAlign:"center",margin:{horizontal:"auto"}},void 0,De("span",{},void 0,o.a.createElement(u.FormattedMessage,Ce["hint_other_".concat(i,"_").concat(t)])),k.map(function(e,t){return De("span",{},e.code,o.a.createElement(o.a.Fragment,null,"".concat(fe(e.ratio),"% ").concat(e.label)),t+1<k.length&&o.a.createElement(o.a.Fragment,null,", "))}))))):null})),Ge=n("d782b72bc5b680c7122c"),Ke=n("3aced5b508e7389026da"),Je=n("f178464512c7054bce4f"),Ye=n.n(Je),Qe=(n("891a3600be771f0bff85"),n("c25aa7756a768876b4dc"),regeneratorRuntime.mark(at)),Ve=regeneratorRuntime.mark(ot),Xe=regeneratorRuntime.mark(ct),et=regeneratorRuntime.mark(it),tt=regeneratorRuntime.mark(st),nt=regeneratorRuntime.mark(lt),rt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.f;return regeneratorRuntime.mark(function r(){var a,o,c,i,s=arguments;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(a=0,o=s.length,c=new Array(o),i=0;i<o;i++)c[i]=s[i];case 2:if(!(a<n)){r.next=17;break}return a+=1,r.prev=4,r.next=7,Ge.call.apply(void 0,[e].concat(c));case 7:return r.abrupt("break",17);case 10:if(r.prev=10,r.t0=r.catch(4),!(a>=n)){r.next=15;break}return r.next=15,t.apply(void 0,[r.t0].concat(c));case 15:r.next=2;break;case 17:case"end":return r.stop()}},r,null,[[4,10]])})};function at(e,t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.key,r.next=3,Object(Ge.put)(oe(e,n));case 3:case"end":return r.stop()}},Qe)}function ot(e){var t,n,r,a,o,c,i,s;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.key,n=e.path,l.next=3,Object(Ge.select)(Me,t);case 3:return r=l.sent,l.next=6,Object(Ge.select)(Re,t);case 6:if(a=l.sent,!n||!t||r||a){l.next=46;break}return o="".concat(g.l.DATA,"/").concat(n),l.prev=9,l.next=12,Object(Ge.put)(ae(t,Date.now()));case 12:return l.next=14,fetch(o);case 14:return c=l.sent,l.next=17,c.ok;case 17:if(!l.sent){l.next=36;break}if("function"!==typeof c.text){l.next=34;break}return l.next=22,c.text();case 22:if(!(i=l.sent)){l.next=31;break}return l.next=26,Ye.a.parse(i,{header:!0,skipEmptyLines:!0});case 26:return s=l.sent,l.next=29,Object(Ge.put)(re(t,s.data,Date.now()));case 29:l.next=34;break;case 31:return l.next=33,Object(Ge.put)(ae(t,!1));case 33:throw new Error(c.statusText);case 34:l.next=39;break;case 36:return l.next=38,Object(Ge.put)(ae(t,!1));case 38:throw new Error(c.statusText);case 39:l.next=46;break;case 41:return l.prev=41,l.t0=l.catch(9),l.next=45,Object(Ge.put)(ae(t,!1));case 45:throw new Error(l.t0);case 46:case"end":return l.stop()}},Ve,null,[[9,41]])}function ct(e){var t,n,r,a,o;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,c.next=3,Object(Ge.select)(ie.p);case 3:if(n=c.sent,(r=new URLSearchParams(n.search)).set("transfer",t),a=r.toString(),(o=a.length>0?"?".concat(a):"")===n.search){c.next=11;break}return c.next=11,Object(Ge.put)(Object(Ke.push)("".concat(n.pathname).concat(o)));case 11:case"end":return c.stop()}},Xe)}function it(e){var t,n,r,a,o;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.direction,c.next=3,Object(Ge.select)(ie.p);case 3:if(n=c.sent,(r=new URLSearchParams(n.search)).set("dir",t),a=r.toString(),(o=a.length>0?"?".concat(a):"")===n.search){c.next=11;break}return c.next=11,Object(Ge.put)(Object(Ke.push)("".concat(n.pathname).concat(o)));case 11:case"end":return c.stop()}},et)}function st(e){var t,n,r,a,o;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.node,c.next=3,Object(Ge.select)(ie.p);case 3:if(n=c.sent,r=new URLSearchParams(n.search),t&&""!==t.trim()?r.set("node",t):r.delete("node"),a=r.toString(),(o=a.length>0?"?".concat(a):"")===n.search){c.next=11;break}return c.next=11,Object(Ge.put)(Object(Ke.push)("".concat(n.pathname).concat(o)));case 11:case"end":return c.stop()}},tt)}function lt(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.takeEvery)(J,rt(ot,at,g.f));case 2:return e.next=4,Object(Ge.takeLatest)(X,ct);case 4:return e.next=6,Object(Ge.takeLatest)(ee,it);case 6:return e.next=8,Object(Ge.takeLatest)(te,st);case 8:case"end":return e.stop()}},nt)}function ut(e,t,n,r){He||(He="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var c=new Array(o),i=0;i<o;i++)c[i]=arguments[i+3];t.children=c}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:He,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var dt=Object(f.default)(function(e){return o.a.createElement(d.a,ft({},e,{elevation:"medium"}))}).withConfig({displayName:"PanelTransfers__Styled",componentId:"j8k72h-0"})(["position:absolute;right:0;top:0;bottom:0;width:100%;pointer-events:all;@media (min-width:","){width:","px;}"],function(e){return e.theme.sizes.medium.minpx},function(e){return e.panelWidth||400}),bt=ut(O.p,{});var pt=Object(i.b)({activeAnalysis:function(e){return Oe(e)},direction:function(e){return je(e)},node:function(e){return we(e)}});var mt,gt=Object(c.connect)(pt,function(e){return{onSetAnalysis:function(t){return e(function(e){return{type:X,id:e}}(t))},onSetDirection:function(t){return e({type:ee,direction:t})},onSetNode:function(t){return e(function(e){return{type:te,node:e}}(t))}}}),ht=Object(l.compose)(gt)(function(e){var t=e.onClose,n=e.analysesConfig,r=e.activeAnalysis,c=e.onSetAnalysis,i=e.direction,s=e.onSetDirection,l=e.onSetNode,f=e.node;Object(y.a)({key:"panelTransfers",reducer:_e}),Object(h.a)({key:"panelTransfers",saga:lt});var d=Object(a.useRef)();return Object(a.useEffect)(function(){d.current.scrollTop=0},[r]),Object(a.useEffect)(function(){r?s("gyres"===r?"to":"from"):c("gyres")},[r]),Object(a.useEffect)(function(){"gyres"===r&&l("")},[i]),ut(p.a.Consumer,{},void 0,function(e){return ut(dt,{background:"white",panelWidth:Object(v.b)(e)},void 0,ut(S.a,{},void 0,ut(R.a,{onClick:function(){return t()}}),ut(M.a,{},void 0,bt,ut(E.a,{},void 0,o.a.createElement(u.FormattedMessage,Ce.title))),ut(j.a,{},void 0,n&&n.map(function(e){var t=e.id;return ut(x.a,{},t,ut(w.a,{onClick:function(){return c(t)},active:r===t,disabled:r===t,label:ut(k.a,{active:r===t},void 0,o.a.createElement(u.FormattedMessage,Ce["mode_".concat(t)]))}))}))),o.a.createElement(P.a,{ref:d},r&&n&&ut(Be,{id:r,direction:i,onSetDirection:s,node:f,onSetNode:l,analysisConfig:n.find(function(e){var t=e.id;return Object(_.a)(t,r)})})))})}),yt=n("f9c0d22799479965d07c"),vt=n("a72b40110d9c31c9b5c5"),_t=n("02ed36e7ccc5625439c9"),Ot="app.containers.PanelExplore",jt=Object(u.defineMessages)({showLayerPanel:{id:"".concat(Ot,".showLayerPanel"),defaultMessage:"Layers"},showProjects:{id:"".concat(Ot,".showProjects"),defaultMessage:"Show WWF-projects"},hideProjects:{id:"".concat(Ot,".hideProjects"),defaultMessage:"Hide WWF-projects"},showProjectsShort:{id:"".concat(Ot,".showProjectsShort"),defaultMessage:"Show projects"},hideProjectsShort:{id:"".concat(Ot,".hideProjectsShort"),defaultMessage:"Hide projects"}});function wt(e,t,n,r){mt||(mt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var c=new Array(o),i=0;i<o;i++)c[i]=arguments[i+3];t.children=c}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:mt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"ModuleTransfers",function(){return Ct});var Et=Object(f.default)(function(e){return o.a.createElement(d.a,St({gap:"small",direction:"row"},e))}).withConfig({displayName:"ModuleTransfers__Buttons",componentId:"sc-1sdlb11-0"})(["position:absolute;right:12px;top:22px;pointer-events:all;"]),Mt=Object(f.default)(function(e){return o.a.createElement(b.a,St({plain:!0,reverse:!0},e))}).withConfig({displayName:"ModuleTransfers__ShowButton",componentId:"sc-1sdlb11-1"})(["font-family:'wwfregular';text-transform:uppercase;line-height:16px;background:",";color:",";border-radius:20px;padding:2px 13px;box-shadow:0px 2px 4px rgba(0,0,0,0.2);&:hover{background:",";}@media (min-width:","){padding:5px 15px 5px 21px;}"],function(e){var t=e.theme,n=e.projects;return t.global.colors[n?"white":"brand"]},function(e){var t=e.theme,n=e.projects;return t.global.colors[n?"black":"white"]},function(e){var t=e.theme,n=e.projects;return t.global.colors[n?"lightHover":"brandDark"]},function(e){return e.theme.sizes.medium.minpx}),Pt="ModuleTransfers",Rt={layersMemo:null},At=wt(O.p,{color:"white"});function Ct(e){var t=e.onSetLayers,n=e.uiState,r=e.onMemoLayers,c=e.activeLayers,i=e.firstLanding,l=e.onSetLanding,f=e.intl,d=e.analysesConfig,b=(n?Object.assign({},Rt,n):Rt).layersMemo;Object(a.useEffect)(function(){b?t(b):g.g.transfers.layers&&!i&&t(g.g.transfers.layers),i&&l()},[]),Object(a.useEffect)(function(){r(c,n)},[c]);var h=xt(Object(a.useState)(!0),2),y=h[0],v=h[1],_=xt(Object(a.useState)(!1),2),O=_[0],j=_[1];return wt(p.a.Consumer,{},void 0,function(e){return wt("div",{},void 0,wt(s.Helmet,{},void 0,wt("title",{},void 0,"".concat(f.formatMessage(_t.a.module_transfers_metaTitle)))),wt(yt.a,{},void 0,y&&"small"!==e&&wt(ht,{analysesConfig:d,onClose:function(){return v(!1)}}),O&&"small"===e&&wt(m.a,{full:!0},void 0,wt(ht,{analysesConfig:d,onClose:function(){return j(!1)}})),(!y&&"small"!==e||!O&&"small"===e)&&wt(Et,{},void 0,wt(Mt,{onClick:function(){v(!0),j(!0)},icon:At,label:o.a.createElement(u.FormattedMessage,jt.showLayerPanel)}))))})}var Dt=Object(i.b)({uiState:function(e){return Object(ie.w)(e,{key:Pt})},activeLayers:function(e){return Object(ie.a)(e)},firstLanding:function(e){return Object(ie.j)(e)},analysesConfig:function(e){return Object(ie.c)(e,{key:"transfers"})}});var Tt=Object(c.connect)(Dt,function(e){return{onSetLanding:function(){return e(Object(vt.m)())},onSetLayers:function(t){return e(Object(vt.o)(t))},onMemoLayers:function(t,n){return e(Object(vt.r)(Pt,Object.assign({},Rt,n,{layersMemo:t})))}}});t.default=Object(l.compose)(Tt)(Object(u.injectIntl)(Ct))},d02bbf3fc84cb2a5f54d:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),a=n.n(r),o=n("5ca68c6edf7ca33c5f8f"),c=n("0b3cb19af78752326f59");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(c.default)(function(e){return a.a.createElement(o.a,i({size:"xlarge"},e))}).withConfig({displayName:"TabLinkAnchor",componentId:"gnhoai-0"})([""])},da67b01eafe6c5aeeace:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),a=n.n(r),o=n("eb656803928a435bd3cc"),c=n("0b3cb19af78752326f59");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(c.default)(function(e){return a.a.createElement(o.a,i({},e,{direction:"row",gap:"xsmall"}))}).withConfig({displayName:"Tabs",componentId:"sc-10tmbft-0"})([""])},f9c0d22799479965d07c:function(e,t,n){"use strict";var r=n("0b3cb19af78752326f59");t.a=r.default.div.withConfig({displayName:"ModuleWrap",componentId:"sc-12lyby8-0"})(["position:absolute;top:0;bottom:0;right:0;left:0;background:transparent;pointer-events:none;z-index:2000;"])}}]);